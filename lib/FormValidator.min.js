!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("FormValidator",[],t):"object"==typeof exports?exports.FormValidator=t():e.FormValidator=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=new RegExp(t,"g"),r=e.match(n);return null===r?0:r.length}function u(e,t,n){var r=a(e,n),i=t.count,u=t.min,o=t.max;return void 0!==i?r===i:(void 0===u||u<=r)&&(void 0===o||r<=o)}Object.defineProperty(t,"__esModule",{value:!0}),t.Validation=t.Validations=void 0;var o=function e(t,n){if(i(this,e),"function"!=typeof n)throw new Error("Invalid argument: 'validate' must be a function");this.repr=t,this.validate=n};t.Validation=o;var l={new:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("new"===e)throw new Error("Invalid argument: name can't be 'new'");var i=n?r({},e,function(n,r){return new o(r||e,t(n))}):r({},e,function(n){return new o(n||e,t)});Object.assign(l,i)},CHARACTERS:function(e,t){var n=e.count,r=e.min,i=e.max;return new o(t||"CHARACTERS",function(e){return void 0!==n?e.length===n:(void 0===r||e.length>=r)&&(void 0===i||e.length<=i)})},DATE_BETWEEN:function(e,t){var n=e.min,r=e.max;return new o(t||"DATE_BETWEEN",function(e){var t=new Date(e);return(void 0===n||n<t)&&(void 0===r||t<r)})},EMAIL:function(e){return new o(e||"EMAIL",function(e){return/\S+@\S+\.\S+/.test(e)})},EMPTY:function(e){return new o(e||"EMPTY",function(e){return!e.length})},LETTERS:function(e,t){return new o(t||"LETTERS",function(t){return u(t,e,/[A-Za-z]/)})},LOWERCASES:function(e,t){return new o(t||"LOWERCASES",function(t){return u(t,e,/[a-z]/)})},MATCH:function(e,t){var n=e.regex;return new o(t||"MATCH",function(e){return new RegExp(n,"").test(e)})},NOT_EMPTY:function(e){return new o(e||"NOT_EMPTY",function(e){return!!e.length})},NUMBERS:function(e,t){return new o(t||"NUMBERS",function(t){return u(t,e,/\d/)})},SPECIAL_CHARACTERS:function(e,t){return new o(t||"SPECIAL_CHARACTERS",function(t){return u(t,e,/[^A-Za-z0-9]/)})},UPPERCASES:function(e,t){return new o(t||"UPPERCASES",function(t){return u(t,e,/[A-Z]/)})},VALUE_IN:function(e,t){var n=e.min,r=e.max;return new o(t||"VALUE_IN",function(e){return(void 0===n||+e>=n)&&(void 0===r||+e<=r)})}};t.Validations=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),o=function(){function e(t,n){var i;r(this,e),l.call(this);var a=Object.assign({},e.defaults,n),u=a.$el,o=a.name,s=a.type,f=a.validations,c=a.style,d=a.onInit,p=a.onChange,v=u||(null===(i=t.$form)||void 0===i?void 0:i.elements[o]);if(!v||!(v instanceof HTMLInputElement||v instanceof HTMLTextAreaElement))throw new Error("Parameter error: $el must be an input field or a textarea");this.$input=v,this.parent=t,this.type=this.initType(s);var m=this.type.defaultValidations(v);this.validations=Object.assign(m,f),this.style=Object.assign({},t.style,c),this.onInit=d,this.onChange=p,this.valid=!1}return a(e,[{key:"initType",value:function(t){if(!t){var n=this.$input;if(n instanceof HTMLTextAreaElement)return u.default.TEXTAREA;var r=n.getAttribute("type");return r?e.attrToType(r):u.default.NONE}return t}}],[{key:"attrToType",value:function(e){var t=e.toUpperCase();if("DATETIME-LOCAL"===t)return u.default.DATETIME;var n=u.default[t];return n||u.default.NONE}}]),e}();Object.defineProperty(o,"defaults",{configurable:!0,enumerable:!0,writable:!0,value:{$el:null,name:null,type:null,validations:[],style:{},onInit:null,onChange:null}}),Object.defineProperty(o,"initFormField",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){return"string"==typeof t?new o(e,{name:t}):t instanceof HTMLElement?new o(e,{$el:t}):new o(e,t)}});var l=function(){var e=this;Object.defineProperty(this,"init",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.$input,n=e.onInit,r=e.type.changeProperty;r&&(t.addEventListener(r,e.handleChange),t.addEventListener("blur",e.handleChange));var i=e.updateValidity();(n&&!1!==n&&!1!==n(t.value,i)||t.value)&&e.applyClasses()}}),Object.defineProperty(this,"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var n=e.$input,r=e.onChange,i=e.updateValidity();r?!1!==r(t,n.value,i)?e.applyClasses():e.removeClasses():!1!==r&&e.applyClasses()}}),Object.defineProperty(this,"updateValidity",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.parent,n=e.$input,r=e.validations,i=[],a=[],u=n.value;r.forEach(function(e){var t=e.validate,n=e.repr;t(u)?i.push(n):a.push(n)});var o=!a.length;if(e.valid!==o){var l;e.valid=o,null===(l=t.updateValidity)||void 0===l||l.call(t)}return{isValid:o,valids:i,invalids:a}}}),Object.defineProperty(this,"applyClasses",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.$input,n=e.valid,r=e.style,i=r.validClass,a=r.invalidClass;n?(t.classList.remove(a),t.classList.add(i)):(t.classList.remove(i),t.classList.add(a))}}),Object.defineProperty(this,"removeClasses",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.$input,n=e.style,r=n.validClass,i=n.invalidClass;t.classList.remove(r),t.classList.remove(i)}})},s=o;t.default=s},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){var t=[],n=e.required,r=e.maxLength;return n&&t.push(s.Validations.NOT_EMPTY()),r>=0&&t.push(s.Validations.CHARACTERS({max:r})),t}function a(e){var t=[],n=e.required,r=e.maxLength,i=e.pattern;return n&&t.push(s.Validations.NOT_EMPTY()),r>=0&&t.push(s.Validations.CHARACTERS({max:r})),i&&t.push(s.Validations.MATCH({regex:i})),t}function u(e){var t=[],n=e.required,r=e.min,i=e.max;return n&&t.push(s.Validations.NOT_EMPTY()),""===r&&""===i||t.push(s.Validations.VALUE_IN({min:r,max:i})),t}function o(e){var t=[],n=e.required,r=e.min,i=e.max;return n&&t.push(s.Validations.NOT_EMPTY()),(r||i)&&t.push(s.Validations.DATE_BETWEEN({min:r?new Date(r):void 0,max:i?new Date(i):void 0})),t}function l(){throw new Error("Invalid type: File inputs aren't handled by the library")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=n(0),f={DATE:{changeProperty:"change",defaultValidations:o},DATETIME:{changeProperty:"change",defaultValidations:o},EMAIL:{changeProperty:"input",defaultValidations:function(e){return[s.Validations.EMAIL()].concat(r(a(e)))}},EMPTY:{changeProperty:"input",defaultValidations:function(){return[s.Validations.EMPTY()]}},FILE:{changePrperty:"input",defaultValidations:l},NONE:{},NUMBER:{changeProperty:"input",defaultValidations:u},PASSWORD:{changeProperty:"input",defaultValidations:a},POSITIVE_NUMBER:{changeProperty:"input",defaultValidations:function(e){return[s.Validations.VALUE_IN({min:0})].concat(r(u(e)))}},RANGE:{changeProperty:"input",defaultValidations:u},SEARCH:{changeProperty:"input",defaultValidations:a},TEL:{changeProperty:"input",defaultValidations:a},TEXT:{changeProperty:"input",defaultValidations:a},TEXTAREA:{changeProperty:"input",defaultValidations:i},TIME:{changeProperty:"change",defaultValidations:o},URL:{changeProperty:"input",defaultValidations:a}};t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){return new f(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.create=a,Object.defineProperty(t,"Validations",{enumerable:!0,get:function(){return u.Validations}}),Object.defineProperty(t,"InputTypes",{enumerable:!0,get:function(){return s.default}});var u=n(0),o=r(n(1)),l=r(n(4)),s=r(n(2)),f=function e(t){i(this,e),c.call(this);var n=Object.assign({},e.defaults,t),r=n.forms,a=n.fields,u=n.style;if(!r&&!a)throw new Error("Invalid paramters: No forms nor fields defined");this.style=u,this.forms=this.initForms(r),this.fields=this.initFields(a),this.init()};Object.defineProperty(f,"defaults",{configurable:!0,enumerable:!0,writable:!0,value:{forms:[],fields:[],style:{validClass:"valid",invalidClass:"valid"}}});var c=function(){var e=this;Object.defineProperty(this,"initForms",{configurable:!0,enumerable:!0,writable:!0,value:function(t){return Array.isArray(t)?t.map(function(t){return l.default.initForm(e,t)}):[l.default.initForm(e,t)]}}),Object.defineProperty(this,"initFields",{configurable:!0,enumerable:!0,writable:!0,value:function(t){return Array.isArray(t)?t.map(function(t){return o.default.initFormField(e,t)}):[o.default.initFormField(e,t)]}}),Object.defineProperty(this,"init",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.forms,n=e.fields;t.forEach(function(e){return e.init()}),n.forEach(function(e){return e.init()})}})}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),u=function e(t,n){i(this,e),o.call(this);var r=Object.assign({},e.defaults,n),a=r.$el,u=r.name,l=r.fields,s=r.submit,f=r.style,c=r.onValidityChange,d=a||document.forms[u];if(!(d&&d instanceof HTMLFormElement))throw new Error("Parameter error: $el must be an HTMLFormElement");this.$form=d,this.parent=t,this.$submit=this.initSubmit(s),this.style=Object.assign({},t.style,f),this.fields=this.initFields(l),this.onValidityChange=c,this.valid=void 0};Object.defineProperty(u,"defaults",{configurable:!0,enumerable:!0,writable:!0,value:{$el:null,name:null,fields:[],submit:null,style:{},onValidityChange:null}}),Object.defineProperty(u,"initForm",{configurable:!0,enumerable:!0,writable:!0,value:function(e,t){return"string"==typeof t||"number"==typeof form?new u(e,{name:t}):t instanceof HTMLElement?new u(e,{$el:t}):new u(e,t)}});var o=function(){var e=this;Object.defineProperty(this,"initSubmit",{configurable:!0,enumerable:!0,writable:!0,value:function(t){if(!0===t)return e.$form.querySelector("[type=submit]");if("string"==typeof t||"number"==typeof t)return e.$form.elements[t];if(t instanceof HTMLButtonElement||t instanceof HTMLInputElement){if("submit"!==t.type)throw new Error("Parameter error: Submit button or input must be of type 'submit'");if(t.form!==e.$form)throw new Error("Parameter error: Submit button or input must be part of the form it's associated to");return t}return null}}),Object.defineProperty(this,"initFields",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var n=t.length?t:Array.of.apply(Array,r(e.$form.elements)).filter(function(e){return e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement});return Array.isArray(n)?n.map(function(t){return a.default.initFormField(e,t)}):[a.default.initFormField(e,n)]}}),Object.defineProperty(this,"init",{configurable:!0,enumerable:!0,writable:!0,value:function(){e.fields.forEach(function(e){return e.init()}),e.updateValidity()}}),Object.defineProperty(this,"updateValidity",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.fields,n=e.$submit,r=t.reduce(function(e,t){return e&&t.valid},!0);e.valid!==r&&(e.valid=r,n&&(n.disabled=!r),e.onValidityChange&&e.onValidityChange(r))}})},l=u;t.default=l}])});