!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("FormValidator",[],t):"object"==typeof exports?exports.FormValidator=t():e.FormValidator=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function i(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}function l(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return i(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){var n=new RegExp(t,"g"),r=e.match(n);return null===r?0:r.length}function u(e,t,n){var r=o(e,n),a=t.count,i=t.min,l=t.max;return void 0!==a?r===a:(void 0===i||r>=i)&&(void 0===l||r<=l)}Object.defineProperty(t,"__esModule",{value:!0}),t.fromValidations=t.defaultValidators=void 0;var s={email:/\S+@\S+\.\S+/,specialCharacters:/[^A-Za-z0-9]/,letter:/[A-Za-z]/,lowercaseLetter:/[a-z]/,uppercaseLetter:/[A-Z]/,number:/\d/},c={EMPTY:function(e){return!e.length},NO_EMPTY:function(e){return e.length},EMAIL:function(e){return s.email.test(e)},VALUE_IN:function(e){var t=e.min,n=e.max;return function(e){return(void 0===t||+e>=t)&&(void 0===n||+e<=n)}},DATE_BETWEEN:function(e){var t=e.min,n=e.max;return function(e){var r=new Date(e);return(void 0===t||t<r)&&(void 0===n||r<n)}},CHARACTERS:function(e){var t=e.count,n=e.min,r=e.max;return function(e){return t?e.length===t:(void 0===n||e.length>=n)&&(void 0===r||e.length<=r)}},SPECIAL_CHARACTERS:function(e){return function(t){return u(t,e,s.specialCharacters)}},LETTERS:function(e){return function(t){return u(t,e,s.letter)}},UPPERCASES:function(e){return function(t){return u(t,e,s.uppercaseLetter)}},LOWERCASES:function(e){return function(t){return u(t,e,s.lowercaseLetter)}},NUMBERS:function(e){return function(t){return u(t,e,s.number)}}};t.defaultValidators=c;var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return e.reduce(function(e,n){if(Array.isArray(n)){var i=l(n,2),o=i[0],u=i[1];return a({},e,r({},o,t[o](u)))}return a({},e,r({},n,t[n]))},{})};t.fromValidations=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={NONE:{},EMPTY:{changeProperty:"input",validations:["EMPTY"]},TEXT:{changeProperty:"input",validations:["NO_EMPTY"]},EMAIL:{changeProperty:"input",validations:["NO_EMPTY","EMAIL"]},PASSWORD:{changeProperty:"input",validations:["NO_EMPTY"]},NUMBER:{changeProperty:"input",validations:["NO_EMPTY"]},POSITIVE_NUMBER:{changeProperty:"input",validations:["NO_EMPTY",["VALUE_IN",{min:0}]]},DATE:{changeProperty:"change",validations:["NO_EMPTY"]},TIME:{changeProperty:"change",validations:["NO_EMPTY"]},DATETIME:{changeProperty:"change",validations:["NO_EMPTY"]}};t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"InputTypes",{enumerable:!0,get:function(){return s.default}}),t.Validator=void 0;var o=n(0),u=r(n(3)),s=r(n(1)),c=function(){function e(t){var n=this;a(this,e),f.call(this);var r=t.fields,i=t.validators,l=t.style,s=t.onValidityChange;if(!r)throw new Error("No fields defined");this.style=Object.assign({},e.defaultStyle,l),this.validators=Object.assign({},o.defaultValidators,i),this.fields=r.map(function(e){return new u.default(n,Object.assign(e,{validators:(0,o.fromValidations)(e.validations,n.validators)}))}),this.onValidityChange=s,this.valid=null,this.init()}return l(e,[{key:"init",value:function(){this.updateValidity()}}]),e}();t.Validator=c,Object.defineProperty(c,"defaultStyle",{configurable:!0,enumerable:!0,writable:!0,value:{validClass:"valid",invalidClass:"invalid"}});var f=function(){var e=this;Object.defineProperty(this,"updateValidity",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.fields,n=e.onValidityChange,r=t.reduce(function(e,t){return e&&t.valid},!0);e.valid!==r&&(e.valid=r,n&&n(r))}})}},function(e,t,n){"use strict";function r(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var l,o=e[Symbol.iterator]();!(r=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}function a(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),c=n(0),f=function(){function e(t,n){l(this,e),d.call(this);var r=Object.assign({},e.defaults,n),a=r.el,o=r.type,u=r.validators,f=r.style,v=r.onInit,p=r.onChange;if(!(a&&a instanceof HTMLInputElement))throw new Error("".concat(a," is not an input field"));if(this.$el=a,this.form=t,o)this.type="string"==typeof o?this.attrToType(o):o;else{var y=a.getAttribute("type");this.type=y?e.attrToType(y):s.default.NONE}var h=Object.keys(u),b=this.type.validations.filter(function(e){return!h.includes(e)});this.validators=i({},(0,c.fromValidations)(b),u),this.style=Object.assign({},e.defaultStyle,t.style,f),this.onInit=v,this.onChange=p,this.valid=!1,this.init()}return u(e,null,[{key:"attrToType",value:function(e){switch(e.toLowerCase()){case"text":return s.default.TEXT;case"email":return s.default.EMAIL;case"password":return s.default.PASSWORD;case"number":return s.default.NUMBER;case"date":return s.default.DATE;case"time":return s.default.TIME;case"datetime-local":return s.default.DATETIME;default:return s.default.NONE}}}]),e}();Object.defineProperty(f,"defaults",{configurable:!0,enumerable:!0,writable:!0,value:{el:null,type:null,onChange:null,validators:[]}}),Object.defineProperty(f,"defaultStyle",{configurable:!0,enumerable:!0,writable:!0,value:{validClass:null,invalidClass:null}});var d=function(){var e=this;Object.defineProperty(this,"init",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.type.changeProperty;t&&(e.$el.addEventListener(t,e.handleChange),e.$el.addEventListener("blur",e.handleChange));var n=e.$el,r=e.onInit,a=e.checkValidity();(r&&!1==!r&&!1!==r(n.value,a)||n.value)&&e.applyClasses()}}),Object.defineProperty(this,"handleChange",{configurable:!0,enumerable:!0,writable:!0,value:function(t){var n=e.$el,r=e.onChange,a=e.checkValidity();r?!1!==r(t,n.value,a)?e.applyClasses():e.removeClasses():e.applyClasses()}}),Object.defineProperty(this,"checkValidity",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.validators,n=e.form,r=[],i=[],l=e.$el.value;Object.entries(t).forEach(function(e){var t=a(e,2),n=t[0];(0,t[1])(l)?r.push(n):i.push(n)});var o=!i.length;return e.valid!==o&&(e.valid=o,n.updateValidity()),{isValid:o,valids:r,invalids:i}}}),Object.defineProperty(this,"applyClasses",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.$el,n=e.valid,r=e.style,a=r.validClass,i=r.invalidClass;n?(t.classList.remove(i),t.classList.add(a)):(t.classList.remove(a),t.classList.add(i))}}),Object.defineProperty(this,"removeClasses",{configurable:!0,enumerable:!0,writable:!0,value:function(){var t=e.$el,n=e.style,r=n.validClass,a=n.invalidClass;t.classList.remove(r),t.classList.remove(a)}})},v=f;t.default=v}])});